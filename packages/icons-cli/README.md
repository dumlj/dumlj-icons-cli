# icons-cli

根据 figma 图标集文件地址，生成每个图标的 svg react 组件

## start

`yarn add @dumlj/icons-cli`

## script

```
dumlj-icons -c ./icons.config.js
```

配置文件内容

```javascript
//icons.config.js
{
  figmaFileUrl: "",
  figmaToken: "",
  outputDir: "",
  defaultOriginIcon: false | true
}
```

| 配置字段          | 作用                                                                                     |
| ----------------- | ---------------------------------------------------------------------------------------- |
| figmaFileUrl      | figma 图标集文件地址（文件 url）                                                         |
| figmaToken        | figma 用户 token，在 figma 平台生成，用于操作 figma api，需要具有查看此 figma 文件的权限 |
| outputDir         | 输出图标的目录位置，选填，默认./src                                                      |
| defaultOriginIcon | 配置默认输出的组件是原图标还是单色图标                                                   |

## use

命令行会对原图标进行转换处理，生成可以在项目中使用的 react 组件

### example

figma 抓取的原图标:

```javascript
// MyIcon.svg
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M11.7896 2C6.38307 2 2 6.47718 2 12C2 17.5234 6.38307 22 11.7896 22C17.1961 22 21.5792 17.5228 21.5792 12C21.5786 6.47718 17.1961 2 11.7896 2ZM9.75732 20.4704C9.44053 19.1611 8.48372 15.2679 8.48372 15.2679L12.9907 20.765C12.9907 20.765 10.9912 21.0333 9.75732 20.4704ZM13.4314 20.6177C11.7551 18.5907 8.14063 14.2853 8.14063 14.2853L16.5175 19.1454C16.5181 19.1448 15.7887 20.0747 13.4314 20.6177ZM16.794 18.9642C13.6529 17.078 8.14998 13.7733 8.14998 13.7733L6.69168 8.50652C6.69168 8.50652 6.60576 8.03776 6.67064 7.80513C6.71156 7.67187 7.16278 7.52166 7.16278 7.52166L12.4571 6.01426C12.4571 6.01426 17.1318 8.41534 20.3389 10.1612C21.1227 13.6716 18.7701 17.6386 16.794 18.9642ZM10.7445 8.82915C10.1209 8.82915 9.61471 9.34467 9.61471 9.98059C9.61471 10.6165 10.1203 11.132 10.7445 11.132C11.3682 11.132 11.8738 10.6165 11.8738 9.98059C11.8738 9.34467 11.3682 8.82915 10.7445 8.82915Z"
    fill="#00112F"
  />
</svg>
```

转换成 react 组件后：

```javascript
// MyIcon.js
import * as React from 'react'

const MyIcon = ({ origin, ...props }) => {
  if (origin) {
    return (
      <svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" {...props}>
        <path
          d="M11.79 2C6.383 2 2 6.477 2 12s4.383 10 9.79 10c5.406 0 9.79-4.477 9.79-10-.001-5.523-4.384-10-9.79-10ZM9.757 20.47c-.316-1.309-1.273-5.202-1.273-5.202l4.507 5.497s-2 .268-3.234-.295Zm3.674.148c-1.676-2.027-5.29-6.333-5.29-6.333l8.376 4.86c.001 0-.728.93-3.086 1.473Zm3.363-1.654-8.644-5.19-1.458-5.267s-.086-.47-.021-.702c.04-.133.492-.283.492-.283l5.294-1.508s4.675 2.401 7.882 4.147c.784 3.51-1.569 7.478-3.545 8.803ZM10.744 8.83c-.623 0-1.13.516-1.13 1.152a1.14 1.14 0 0 0 1.13 1.151 1.14 1.14 0 0 0 1.13-1.151 1.14 1.14 0 0 0-1.13-1.152Z"
          fill="#00112F"
        />
      </svg>
    )
  }

  return (
    <svg width="1em" height="1em" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>
      <path d="M11.79 2C6.383 2 2 6.477 2 12s4.383 10 9.79 10c5.406 0 9.79-4.477 9.79-10-.001-5.523-4.384-10-9.79-10ZM9.757 20.47c-.316-1.309-1.273-5.202-1.273-5.202l4.507 5.497s-2 .268-3.234-.295Zm3.674.148c-1.676-2.027-5.29-6.333-5.29-6.333l8.376 4.86c.001 0-.728.93-3.086 1.473Zm3.363-1.654-8.644-5.19-1.458-5.267s-.086-.47-.021-.702c.04-.133.492-.283.492-.283l5.294-1.508s4.675 2.401 7.882 4.147c.784 3.51-1.569 7.478-3.545 8.803ZM10.744 8.83c-.623 0-1.13.516-1.13 1.152a1.14 1.14 0 0 0 1.13 1.151 1.14 1.14 0 0 0 1.13-1.151 1.14 1.14 0 0 0-1.13-1.152Z" />
    </svg>
  )
}

export default MyIcon
```

组件类型

```javascript
//index.d.ts
import type { FunctionComponent, SVGAttributes } from 'react';

interface Props extends SVGAttributes<SVGElement> {
  /** 是否有旋转动画 */
  spin?: boolean
  /** 图标旋转角度 */
  rotate?: number
  /**
   * 显示为原图标（不去掉fill属性）
   */
   origin?: boolean;
}

type Icon = FunctionComponent<Props>;
export const MyIcon: Icon;
}
```
